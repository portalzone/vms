# ----------------------------------------------------------------------
# STAGE 1: BUILD (For compiling Vue/Vite assets)
# ----------------------------------------------------------------------
FROM node:20 AS frontend_builder

# Set working directory
WORKDIR /app

# Copy package files
COPY vms-frontend/vue-project/package*.json ./

# Install dependencies
RUN npm install

# Copy the Vue project source
COPY vms-frontend/vue-project/ ./

# Run the build
RUN npm run build
